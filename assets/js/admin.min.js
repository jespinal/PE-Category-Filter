/* PE Category Filter - Admin JavaScript (Minified) */
!function($){"use strict";const PECFAdmin={init:function(){this.bindEvents(),this.initializeUI()},bindEvents:function(){$("#pecf-settings-form").on("submit",this.handleFormSubmit),$(".pecf-category-item input[type=\"checkbox\"]").on("change",this.handleCategoryChange),$(document).on("click",".pecf-select-all",this.selectAllCategories),$(document).on("click",".pecf-select-none",this.selectNoCategories),$("#pecf-category-search").on("input",this.filterCategories)},initializeUI:function(){this.addSearchBox(),this.addBulkActions(),this.updateCategoryCounts()},addSearchBox:function(){const e=$("<input>",{type:"text",id:"pecf-category-search",placeholder:"Search categories...",class:"regular-text"});$(".pecf-categories-list").before($("<div>",{class:"pecf-search-container",style:"margin-bottom: 15px;"}).append(e))},addBulkActions:function(){const e=$("<div>",{class:"pecf-bulk-actions",style:"margin-bottom: 15px;"}).html(`<button type="button" class="button pecf-select-all">Select All</button><button type="button" class="button pecf-select-none">Select None</button>`);$(".pecf-categories-list").before(e)},handleFormSubmit:function(e){const t=$(this),n=t.find('input[type="submit"]');n.prop("disabled",!0).val("Saving..."),t.addClass("pecf-loading"),setTimeout(function(){n.prop("disabled",!1).val("Save Changes"),t.removeClass("pecf-loading"),PECFAdmin.showMessage("Settings saved successfully!","success")},1e3)},handleCategoryChange:function(){PECFAdmin.updateCategoryCounts(),PECFAdmin.updateBulkActionButtons()},selectAllCategories:function(){$(".pecf-category-item input[type=\"checkbox\"]").prop("checked",!0),PECFAdmin.updateCategoryCounts(),PECFAdmin.updateBulkActionButtons()},selectNoCategories:function(){$(".pecf-category-item input[type=\"checkbox\"]").prop("checked",!1),PECFAdmin.updateCategoryCounts(),PECFAdmin.updateBulkActionButtons()},filterCategories:function(){const e=$(this).val().toLowerCase();$(".pecf-category-item").each(function(){const t=$(this),n=t.find(".category-name").text().toLowerCase();n.includes(e)?t.show():t.hide()})},updateCategoryCounts:function(){const e=$(".pecf-category-item").length,t=$(".pecf-category-item input[type=\"checkbox\"]:checked").length;0===$(".pecf-category-count-display").length&&$(".pecf-categories-list").after($("<div>",{class:"pecf-category-count-display",style:"margin-top: 10px; font-style: italic; color: #666;"})),$(".pecf-category-count-display").text(`${t} of ${e} categories selected`)},updateBulkActionButtons:function(){const e=$(".pecf-category-item").length,t=$(".pecf-category-item input[type=\"checkbox\"]:checked").length;$(".pecf-select-all").prop("disabled",t===e),$(".pecf-select-none").prop("disabled",0===t)},showMessage:function(e,t){const n=$("<div>",{class:`pecf-message ${t}`,text:e});$(".pecf-message").remove(),$(".pecf-settings-page h1").after(n),setTimeout(function(){n.fadeOut(function(){$(this).remove()})},5e3)}};$(document).ready(function(){PECFAdmin.init()})}(jQuery);
